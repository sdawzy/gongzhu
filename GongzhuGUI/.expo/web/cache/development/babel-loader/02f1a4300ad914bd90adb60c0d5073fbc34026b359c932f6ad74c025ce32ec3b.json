{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/Users/yuezhang/Documents/projects/gongzhu/GongzhuGUI/src/components/Declaration.tsx\",\n  _this = this;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Card from './Card';\nimport { PIG, SHEEP, BLOOD, DOUBLER } from './specialCards';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar OneDeclaration = function OneDeclaration(_ref) {\n  var specialCard = _ref.specialCard,\n    specialCardName = _ref.specialCardName,\n    declarations = _ref.declarations,\n    setDeclarations = _ref.setDeclarations;\n  return _jsxDEV(View, {\n    children: [_jsxDEV(Card, {\n      card: specialCard\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }, _this), _jsxDEV(View, {\n      style: {\n        marginTop: 2,\n        justifyContent: \"space-between\"\n      },\n      children: [\"open\", \"close\", \"no\"].map(function (option) {\n        return _jsxDEV(TouchableOpacity, {\n          onPress: function onPress() {\n            return setDeclarations(function (prevDecs) {\n              return _objectSpread(_objectSpread({}, prevDecs), {}, _defineProperty({}, specialCardName, option));\n            });\n          },\n          style: {\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            padding: 5,\n            backgroundColor: declarations[specialCardName] === option ? \"#007AFF\" : \"#BBB\",\n            borderRadius: 3,\n            marginVertical: 3\n          },\n          children: _jsxDEV(Text, {\n            style: {\n              color: declarations[specialCardName] === option ? \"white\" : \"black\"\n            },\n            children: option + \" declare\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 15\n          }, _this)\n        }, option, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 13\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 13\n  }, _this);\n};\nvar Declaration = function Declaration(_ref2) {\n  var hand = _ref2.hand,\n    declarations = _ref2.declarations,\n    setDeclarations = _ref2.setDeclarations;\n  var has_pig = false;\n  var has_sheep = false;\n  var has_blood = false;\n  var has_doubler = false;\n  for (var card of hand) {\n    if (card.suit === PIG.suit && card.rank === PIG.rank) {\n      has_pig = true;\n    }\n    if (card.suit === SHEEP.suit && card.rank === SHEEP.rank) {\n      has_sheep = true;\n    }\n    if (card.suit === BLOOD.suit && card.rank === BLOOD.rank) {\n      has_blood = true;\n    }\n    if (card.suit === DOUBLER.suit && card.rank === DOUBLER.rank) {\n      has_doubler = true;\n    }\n  }\n  if (!has_pig && !has_sheep && !has_blood && !has_doubler) {\n    return _jsxDEV(View, {\n      children: _jsxDEV(Text, {\n        children: \"No Special Card to Declare!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, _this);\n  }\n  return _jsxDEV(View, {\n    style: {\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    children: [{\n      condition: has_pig,\n      card: PIG,\n      name: \"pig\"\n    }, {\n      condition: has_sheep,\n      card: SHEEP,\n      name: \"sheep\"\n    }, {\n      condition: has_blood,\n      card: BLOOD,\n      name: \"blood\"\n    }, {\n      condition: has_doubler,\n      card: DOUBLER,\n      name: \"doubler\"\n    }].map(function (_ref3) {\n      var condition = _ref3.condition,\n        card = _ref3.card,\n        name = _ref3.name;\n      return condition && _jsxDEV(OneDeclaration, {\n        specialCard: card,\n        specialCardName: name,\n        declarations: declarations,\n        setDeclarations: setDeclarations\n      }, name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, _this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 13\n  }, _this);\n};\nexport default Declaration;","map":{"version":3,"names":["React","View","Text","TouchableOpacity","Card","PIG","SHEEP","BLOOD","DOUBLER","jsxDEV","_jsxDEV","OneDeclaration","_ref","specialCard","specialCardName","declarations","setDeclarations","children","card","fileName","_jsxFileName","lineNumber","columnNumber","_this","style","marginTop","justifyContent","map","option","onPress","prevDecs","_objectSpread","_defineProperty","flexDirection","alignItems","padding","backgroundColor","borderRadius","marginVertical","color","Declaration","_ref2","hand","has_pig","has_sheep","has_blood","has_doubler","suit","rank","condition","name","_ref3"],"sources":["/Users/yuezhang/Documents/projects/gongzhu/GongzhuGUI/src/components/Declaration.tsx"],"sourcesContent":["// Declaration UI used in GameTable\nimport React from 'react';\nimport { View, Image, Text, StyleSheet, Button, TouchableOpacity } from 'react-native';\nimport { CardInterface, DeclarationsInterface } from '../types';\nimport Card from './Card';\nimport { PIG, SHEEP, BLOOD, DOUBLER} from './specialCards';\n\nconst OneDeclaration : React.FC<{\n    specialCard: CardInterface,\n    specialCardName: string,\n    declarations: DeclarationsInterface,\n    setDeclarations: Function,\n}>= ({specialCard, specialCardName, declarations, setDeclarations}) => {\n    // console.log(declarations)\n    return (<View>\n        <Card card={specialCard}/>\n        <View style={{ marginTop: 2, justifyContent: \"space-between\" }}>\n          {[\"open\", \"close\", \"no\"].map((option) => (\n            <TouchableOpacity\n              key={option}\n              onPress={() => setDeclarations(prevDecs => ({\n                ...prevDecs,  \n                [specialCardName]: option // Update only the specific key\n            }))}\n              style={{\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                padding: 5,\n                backgroundColor: declarations[specialCardName] === option ? \"#007AFF\" : \"#BBB\",\n                borderRadius: 3,\n                marginVertical: 3,\n              }}\n            >\n              <Text style={{ color: declarations[specialCardName] === option ? \"white\" : \"black\" }}>\n                {option + \" declare\"}\n              </Text>\n            </TouchableOpacity>\n          ))}\n          </View>\n    </View>);\n};\n\nconst Declaration : React.FC<{\n    hand: CardInterface[],\n    declarations: DeclarationsInterface,\n    setDeclarations: Function,\n}>= ({hand, declarations, setDeclarations}) => {\n    // console.log(hand)\n    let has_pig = false;\n    let has_sheep = false;\n    let has_blood = false;\n    let has_doubler = false;\n    \n    for (const card of hand) {\n        if (card.suit === PIG.suit && card.rank === PIG.rank) {\n            has_pig = true;\n        }\n        if (card.suit === SHEEP.suit && card.rank === SHEEP.rank) {\n            has_sheep = true;\n        }\n        if (card.suit === BLOOD.suit && card.rank === BLOOD.rank) {  \n            has_blood = true;\n        }\n        if (card.suit === DOUBLER.suit && card.rank === DOUBLER.rank) {  \n            has_doubler = true;\n        }\n    }\n\n    if (!has_pig && !has_sheep && !has_blood && !has_doubler) {\n        return (\n            <View>\n                <Text>No Special Card to Declare!</Text>\n            </View>\n        )\n    }\n\n    return (<View style={{ flexDirection: 'row', alignItems: 'center' }}>\n        {[\n            { condition: has_pig, card: PIG, name: \"pig\" },\n            { condition: has_sheep, card: SHEEP, name: \"sheep\" },\n            { condition: has_blood, card: BLOOD, name: \"blood\" },\n            { condition: has_doubler, card: DOUBLER, name: \"doubler\" }\n        ].map(({ condition, card, name }) => \n            condition && (\n                <OneDeclaration \n                    key={name} \n                    specialCard={card} \n                    specialCardName={name} \n                    declarations={declarations} \n                    setDeclarations={setDeclarations} \n                />\n            )\n        )}\n    </View>\n    );\n};\n\nexport default Declaration;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}