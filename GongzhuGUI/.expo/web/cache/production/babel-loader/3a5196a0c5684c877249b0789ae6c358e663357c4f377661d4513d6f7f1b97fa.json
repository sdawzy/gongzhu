{"ast":null,"code":"\"use strict\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{NavigationContext,NavigationRouteContext}from'@react-navigation/native';import*as React from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import{useSafeAreaFrame,useSafeAreaInsets}from'react-native-safe-area-context';import{Background}from\"./Background.js\";import{getDefaultHeaderHeight}from\"./Header/getDefaultHeaderHeight.js\";import{HeaderHeightContext}from\"./Header/HeaderHeightContext.js\";import{HeaderShownContext}from\"./Header/HeaderShownContext.js\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function Screen(props){var dimensions=useSafeAreaFrame();var insets=useSafeAreaInsets();var isParentHeaderShown=React.useContext(HeaderShownContext);var parentHeaderHeight=React.useContext(HeaderHeightContext);var focused=props.focused,_props$modal=props.modal,modal=_props$modal===void 0?false:_props$modal,header=props.header,_props$headerShown=props.headerShown,headerShown=_props$headerShown===void 0?true:_props$headerShown,headerTransparent=props.headerTransparent,_props$headerStatusBa=props.headerStatusBarHeight,headerStatusBarHeight=_props$headerStatusBa===void 0?isParentHeaderShown?0:insets.top:_props$headerStatusBa,navigation=props.navigation,route=props.route,children=props.children,style=props.style;var _React$useState=React.useState(function(){return getDefaultHeaderHeight(dimensions,modal,headerStatusBarHeight);}),_React$useState2=_slicedToArray(_React$useState,2),headerHeight=_React$useState2[0],setHeaderHeight=_React$useState2[1];return _jsxs(Background,{accessibilityElementsHidden:!focused,importantForAccessibility:focused?'auto':'no-hide-descendants',style:[styles.container,style],collapsable:false,children:[headerShown?_jsx(NavigationContext.Provider,{value:navigation,children:_jsx(NavigationRouteContext.Provider,{value:route,children:_jsx(View,{pointerEvents:\"box-none\",onLayout:function onLayout(e){var height=e.nativeEvent.layout.height;setHeaderHeight(height);},style:[styles.header,headerTransparent?styles.absolute:null],children:header})})}):null,_jsx(View,{style:styles.content,children:_jsx(HeaderShownContext.Provider,{value:isParentHeaderShown||headerShown!==false,children:_jsx(HeaderHeightContext.Provider,{value:headerShown?headerHeight:parentHeaderHeight!=null?parentHeaderHeight:0,children:children})})})]});}var styles=StyleSheet.create({container:{flex:1},content:{flex:1},header:{zIndex:1},absolute:{position:'absolute',top:0,start:0,end:0}});","map":{"version":3,"names":["NavigationContext","NavigationRouteContext","React","StyleSheet","View","useSafeAreaFrame","useSafeAreaInsets","Background","getDefaultHeaderHeight","HeaderHeightContext","HeaderShownContext","jsx","_jsx","jsxs","_jsxs","Screen","props","dimensions","insets","isParentHeaderShown","useContext","parentHeaderHeight","focused","_props$modal","modal","header","_props$headerShown","headerShown","headerTransparent","_props$headerStatusBa","headerStatusBarHeight","top","navigation","route","children","style","_React$useState","useState","_React$useState2","_slicedToArray","headerHeight","setHeaderHeight","accessibilityElementsHidden","importantForAccessibility","styles","container","collapsable","Provider","value","pointerEvents","onLayout","e","height","nativeEvent","layout","absolute","content","create","flex","zIndex","position","start","end"],"sources":["/Users/yuezhang/Documents/projects/gongzhu/GongzhuGUI/node_modules/@react-navigation/elements/src/Screen.tsx"],"sourcesContent":["import {\n  NavigationContext,\n  type NavigationProp,\n  NavigationRouteContext,\n  type ParamListBase,\n  type RouteProp,\n} from '@react-navigation/native';\nimport * as React from 'react';\nimport {\n  Animated,\n  type StyleProp,\n  StyleSheet,\n  View,\n  type ViewStyle,\n} from 'react-native';\nimport {\n  useSafeAreaFrame,\n  useSafeAreaInsets,\n} from 'react-native-safe-area-context';\n\nimport { Background } from './Background';\nimport { getDefaultHeaderHeight } from './Header/getDefaultHeaderHeight';\nimport { HeaderHeightContext } from './Header/HeaderHeightContext';\nimport { HeaderShownContext } from './Header/HeaderShownContext';\n\ntype Props = {\n  focused: boolean;\n  modal?: boolean;\n  navigation: NavigationProp<ParamListBase>;\n  route: RouteProp<ParamListBase>;\n  header: React.ReactNode;\n  headerShown?: boolean;\n  headerStatusBarHeight?: number;\n  headerTransparent?: boolean;\n  style?: Animated.WithAnimatedValue<StyleProp<ViewStyle>>;\n  children: React.ReactNode;\n};\n\nexport function Screen(props: Props) {\n  const dimensions = useSafeAreaFrame();\n  const insets = useSafeAreaInsets();\n\n  const isParentHeaderShown = React.useContext(HeaderShownContext);\n  const parentHeaderHeight = React.useContext(HeaderHeightContext);\n\n  const {\n    focused,\n    modal = false,\n    header,\n    headerShown = true,\n    headerTransparent,\n    headerStatusBarHeight = isParentHeaderShown ? 0 : insets.top,\n    navigation,\n    route,\n    children,\n    style,\n  } = props;\n\n  const [headerHeight, setHeaderHeight] = React.useState(() =>\n    getDefaultHeaderHeight(dimensions, modal, headerStatusBarHeight)\n  );\n\n  return (\n    <Background\n      accessibilityElementsHidden={!focused}\n      importantForAccessibility={focused ? 'auto' : 'no-hide-descendants'}\n      style={[styles.container, style]}\n      // On Fabric we need to disable collapsing for the background to ensure\n      // that we won't render unnecessary views due to the view flattening.\n      collapsable={false}\n    >\n      {headerShown ? (\n        <NavigationContext.Provider value={navigation}>\n          <NavigationRouteContext.Provider value={route}>\n            <View\n              pointerEvents=\"box-none\"\n              onLayout={(e) => {\n                const { height } = e.nativeEvent.layout;\n\n                setHeaderHeight(height);\n              }}\n              style={[\n                styles.header,\n                headerTransparent ? styles.absolute : null,\n              ]}\n            >\n              {header}\n            </View>\n          </NavigationRouteContext.Provider>\n        </NavigationContext.Provider>\n      ) : null}\n      <View style={styles.content}>\n        <HeaderShownContext.Provider\n          value={isParentHeaderShown || headerShown !== false}\n        >\n          <HeaderHeightContext.Provider\n            value={headerShown ? headerHeight : parentHeaderHeight ?? 0}\n          >\n            {children}\n          </HeaderHeightContext.Provider>\n        </HeaderShownContext.Provider>\n      </View>\n    </Background>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  content: {\n    flex: 1,\n  },\n  header: {\n    zIndex: 1,\n  },\n  absolute: {\n    position: 'absolute',\n    top: 0,\n    start: 0,\n    end: 0,\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}